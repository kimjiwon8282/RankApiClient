/* 공통 톤: my-history.css와 최대한 동일하게 맞춤 */
:root{
    --ka-card-bg:#fff;
    --ka-line:#e8edf3;
    --ka-text:#1f3349;
    --ka-muted:#6b7280;
    --ka-radius:14px;
    --ka-shadow:0 6px 20px rgba(0,0,0,.06);

    --ka-header-bg:#f8fafc;
    --ka-row-border:#f1f5f9;
    --ka-accent:#2563eb;
    --ka-good:#10b981;

    /* 경쟁도 색상 (추가) */
    --ka-comp-high: #ff6b6b;     /* 경쟁도: 높음 (빨강) */
    --ka-comp-medium: #ffcf6b;   /* 경쟁도: 중간 (노랑) */
    --ka-comp-low: #53d86a;      /* 경쟁도: 낮음 (초록) */
}

/* ============ 페이지 레이아웃 ============ */
.analysis-page {
    width:100vw;
    display:flex;
    justify-content:center;
    padding:40px 16px 80px;
    box-sizing:border-box;
    background: transparent;
}

.analysis-inner {
    width:100%;
    max-width:1040px;
    display:flex;
    flex-direction:column;
    gap:24px;
}

/* ============ 헤더 ============ */
.analysis-header h2{
    margin:0;
    font-size:24px;
    font-weight:600;
    color:var(--ka-text);
    text-align:center;
}
.analysis-header p{
    margin:8px 0 0;
    text-align:center;
    color:var(--ka-muted);
    font-size:14px;
    line-height:1.4;
}

/* ============ 입력 영역 ============ */
.analysis-input {
    display:flex;
    justify-content:center;
    width:100%;
}

.analysis-input-row {
    display:flex;
    flex-wrap:wrap;
    align-items:center;
    gap:12px;
    width:100%;
    max-width:480px;
    margin:0 auto;
}

.analysis-input-label {
    font-size:14px;
    font-weight:500;
    color:var(--ka-text);
}

.analysis-input-field {
    flex:1;
    min-width:0;
    padding:10px 14px;
    border:1px solid #d1d5db;
    border-radius:8px;
    font-size:14px;
    line-height:1.4;
    color:#111827;
    background-color:#fff;
    box-shadow: inset 0 1px 0 rgba(255,255,255,0.6);
}

/* 버튼 스타일 (일관된 둥근 버튼) */
.btn-primary {
    background: linear-gradient(90deg, var(--ka-accent), #1f6fe0);
    color: #fff;
    padding:10px 18px;
    border-radius:999px;
    border: none;
    font-weight:700;
    box-shadow: 0 10px 22px rgba(37,99,235,0.12);
    cursor: pointer;
    transition: transform .12s ease, box-shadow .12s ease, opacity .12s ease;
}
.btn-primary:active { transform: translateY(1px); }
.btn-primary:disabled { opacity:.6; cursor:not-allowed; box-shadow:none; }

/* ============ 카드 박스 ============ */
.analysis-table-card {
    background:var(--ka-card-bg);
    border:1px solid var(--ka-line);
    border-radius:var(--ka-radius);
    box-shadow:var(--ka-shadow);
    overflow:hidden; /* 둥근 모서리 안에서 스크롤 모양 깔끔 */
}

/* 툴바 */
.analysis-table-toolbar {
    display:flex;
    align-items:center;
    justify-content:space-between;
    padding:12px 16px;
    min-height:40px;
}

/* 스크롤 영역 */
.analysis-table-scroll {
    max-height:520px;
    overflow:auto;
    border-top:1px solid #eef2f6;
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
}

/* ============ 테이블 기본 ============ */
.analysis-table {
    width:100%;
    border-collapse:collapse;
    border-spacing:0;
    font-size:16px;
    color:var(--ka-text);
}

/* 기본적으로 모든 셀은 오른쪽 정렬 */
.analysis-table th,
.analysis-table td {
    text-align: right;
    padding: 10px 20px;
    font-size: 16px;
    line-height: 1.4;
    border-bottom: 1px solid var(--ka-row-border);
    color: var(--ka-text);
    vertical-align: middle;
    white-space: nowrap;
}

/* 키워드 컬럼만 왼쪽 정렬 (thead + tbody 공통) */
.analysis-table th:first-child,
.analysis-table td:first-child {
    text-align: left !important;
}

/* 헤더 스타일 */
.analysis-table thead th {
    position: sticky;
    top: 0;
    z-index: 1;
    background: var(--ka-header-bg);
    color: #374151;
    font-weight: 600;
    border-bottom: 1px solid var(--ka-line);
    white-space: nowrap;
}

/* placeholder row 중앙 정렬 */
.analysis-placeholder-row td {
    color: var(--ka-muted);
    text-align: center;
    font-size: 16px;
}

/* 각 열 너비 (my-history와 비슷하게 고정 폭 주기) */
.col-keyword   { width:25%; min-width:100px; text-overflow: ellipsis; overflow: hidden; }
.col-month     { width:12%; white-space:nowrap; }
.col-pc        { width:8%;  white-space:nowrap; text-align:right; }
.col-mobile    { width:8%;  white-space:nowrap; text-align:right; }
.col-click     { width:25%; white-space:nowrap; text-align:right; }
.col-ctr       { width:25%; white-space:nowrap; text-align:right; }
.col-depth     { width:5%; white-space:nowrap; text-align:center; }
.col-compet    { width:5%; white-space:nowrap; text-align:center; }

/* 행 호버, 가벼운 떠오름 효과로 '귀여움' 추가 */
.analysis-table tbody tr {
    transition: background .12s ease, transform .12s ease;
}
.analysis-table tbody tr:hover {
    background: rgba(37,99,235,0.03);
    transform: translateY(-3px);
    box-shadow: 0 6px 18px rgba(37,99,235,0.03);
}

/* 숫자 컬럼 정렬(고정 폭 숫자 표시에 도움) */
.analysis-table td.num { text-align: right; font-variant-numeric: tabular-nums; }

/* ============ 경쟁도 배지 (badge) ============ */
/* 귀엽고 통일된 원형 칩 디자인 */
.badge {
    display:inline-flex;
    align-items:center;
    gap:8px;
    padding:6px 12px;
    font-size:13px;
    font-weight:800;
    border-radius:999px;
    line-height:1;
    vertical-align:middle;
    box-shadow: 0 6px 16px rgba(27,48,78,0.06);
    transform-origin:center;
    transition: transform .14s cubic-bezier(.2,.9,.3,1), box-shadow .14s ease;
}

/* 작은 아이콘(이모지 또는 SVG) */
.badge .icon {
    font-size:12px;
    opacity:0.98;
    display:inline-block;
}

/* 텍스트 */
.badge .label { font-weight:700; color:inherit; }

/* 색상별 변형 */
.badge.comp-high {
    background: linear-gradient(135deg, var(--ka-comp-high), #ff4b4b);
    color: #fff;
}
.badge.comp-medium {
    background: linear-gradient(180deg,#fff6e6,var(--ka-comp-medium));
    color: #1f2937; /* 짙은 텍스트로 가독성 확보 */
    border: 1px solid rgba(0,0,0,0.04);
}
.badge.comp-low {
    background: linear-gradient(135deg,#bdf8cf,var(--ka-comp-low));
    color: #fff;
}

/* hover effect for badge - subtle 'pop' */
.badge:hover { transform: translateY(-4px) scale(1.02); box-shadow: 0 12px 26px rgba(27,48,78,0.10); }

/* tiny pulse for high badges to draw attention (optional) */
@keyframes badgePulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.03); }
    100% { transform: scale(1); }
}
.badge.comp-high.pulse {
    animation: badgePulse 2.4s ease-in-out infinite;
}

/* ============ 관련 키워드 칩 ============ */
.keyword-chip {
    display:inline-block;
    padding:8px 12px;
    margin:6px 6px 0 0;
    font-weight:700;
    border-radius:999px;
    background: linear-gradient(180deg,#f1f8ff,#ffffff);
    border: 1px solid rgba(37,99,235,0.08);
    color: var(--ka-accent);
    cursor: pointer;
    transition: transform .12s ease, box-shadow .12s ease;
}
.keyword-chip:hover {
    transform: translateY(-6px);
    box-shadow: 0 10px 22px rgba(37,99,235,0.08);
}

/* ============ 작은 보조 텍스트 ============ */
.small-muted { font-size:12px; color:var(--ka-muted); }

/* ============ 반응형 조정 ============ */
@media (max-width: 880px) {
    .analysis-inner { padding:0 8px; max-width:720px; }
    .analysis-table th, .analysis-table td { padding: 10px 12px; font-size:14px; }
    .col-keyword { width:40%; }
    .col-month, .col-pc, .col-mobile { display: none; } /* 모바일에서 컬럼 숨김 (필요 시 조정) */
    .analysis-table-scroll { max-height: 360px; }
}

/* ============ 접근성 보완 ============ */
/* 중간(노랑) 배지 텍스트 대비 확인: 이미 짙은 텍스트로 설정 */
.badge.comp-medium .label { color: #1f2937; }

/* ============ 유틸리티 클래스 ============ */
.text-right { text-align:right; }
.text-left { text-align:left; }
.center { text-align:center; }

/* ============ 테이블 스크롤 커스터마이즈 (작은 귀여운 스크롤바) ============ */
.analysis-table-scroll::-webkit-scrollbar { height:8px; width:8px; }
.analysis-table-scroll::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, rgba(37,99,235,0.18), rgba(37,99,235,0.12));
    border-radius:999px;
}
.analysis-table-scroll::-webkit-scrollbar-track { background: transparent; }

/* ============ 마무리 : 안전한 기본값 ============ */
/* 만약 경쟁도 컬럼에 값이 비어있으면 '중간' 배지로 표시될 수 있도록 기본 스타일 보장 */
td.col-compet:empty::before {
    content: "";
    display:inline-block;
    min-width:0;
}
