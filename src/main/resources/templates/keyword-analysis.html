<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
    <meta charset="UTF-8">
    <title>키워드 분석</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <link rel="stylesheet" th:href="@{/css/typography.css}">
    <link rel="stylesheet" th:href="@{/css/fragments/navbar.css}">
    <link rel="stylesheet" th:href="@{/css/keyword-analysis.css}">
</head>
<body>
<div th:replace="~{fragments/navbar :: navbar}"></div>

<!-- 페이지 전체 래퍼 -->
<div class="analysis-page">
    <div class="analysis-inner">
        <div class="analysis-header">
            <h2>키워드 분석</h2>
            <p>분석하고 싶은 키워드를 입력하면, 저장된 연관 키워드 데이터를 보여줍니다.</p>
        </div>

        <!-- 입력 영역 -->
        <section class="analysis-input">
            <div class="analysis-input-row">
                <label for="query" class="analysis-input-label">분석 키워드</label>
                <input id="query" type="text" class="analysis-input-field" placeholder="예: 가지">
            </div>
        </section>

        <!-- 결과 영역 -->
        <section class="analysis-result">
            <!-- 결과 테이블 카드 -->
            <div class="analysis-table-card">
                <div class="analysis-table-toolbar">
                    <h3 class="analysis-result-title">
                        분석 결과
                        <span id="analysisStatus" class="analysis-status"></span>
                    </h3>
                </div>

                <div class="analysis-table-scroll">
                    <table id="analysisTable" class="analysis-table">
                        <thead>
                        <tr>
                            <th class="col-keyword">키워드</th>
                            <th class="col-month">월 검색량</th>
                            <th class="col-pc">PC</th>
                            <th class="col-mobile">모바일</th>
                            <th class="col-click">평균 클릭수(PC/M)</th>
                            <th class="col-ctr">평균 CTR(PC/M)</th>
                            <th class="col-depth">페이지 깊이</th>
                            <th class="col-compet">경쟁도</th>
                        </tr>
                        </thead>

                        <tbody id="analysisTbody">
                        <tr class="analysis-placeholder-row">
                            <td colspan="8" class="analysis-placeholder-cell">
                                검색어를 입력해 주세요.
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- 디버그(JSON)는 숨김 -->
            <pre id="analysisResult" style="display:none;"></pre>
        </section>
    </div>
</div>

<script type="module" th:src="@{/js/api.js}"></script>
<script type="module" th:src="@{/js/keyword-analysis.js}"></script>

</body>
</html>